{% extends "layout.html.jinja2" %}
{% block title %}Admin{% endblock %}
{% block scripts %}
    {% assets "admin_index_js" %}
        <script type="text/javascript" src="{{  ASSET_URL }}"></script>
    {% endassets %}

    {% assets "admin_index_css" %}
        <link rel="stylesheet" href="{{ ASSET_URL }}" />
    {% endassets %}
{% endblock %}
{% block content %}
    <div class="row" id="container" ng-app="btvAdminApp" ng-controller="FormsCtrl" ng-init="init()">
      <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">
          <div id="submit-success" class="alert alert-success" ng-show="success">
              Successfully updated!<button type="button" class="close" ng-click="success = false;">&times;</button>
          </div>
        </div>
        <div class="col-md-1"></div>
      </div>
        <div class="col-md-5 col-md-offset-1 purple-box-hack" id="left-box">
            <h3>Stream</h3>
            <div class="form-limit-width">
                <form id="stream-form" novalidate>
                    <div class="form-group">
                        <label for="stream-url">Stream URL:</label>
                        <input id="stream-url" name="stream-url" ng-model="data.stream_url" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="alternate-stream-url">Alternate Stream URL:</label>
                        <input id="alternate-stream-url" name="alternate-stream-url" ng-model="data.alternate_stream_url" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="countdown-target">Counting Down To:</label>
                        <input id="countdown-target" name="countdown-target" ng-model="data.countdown_target" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="countdown-date">Countdown Date:</label>
                        <input id="countdown-date" name="countdown-date" ng-model="data.countdown_date" type="text" class="form-control" placeholder="MM-DD-YYYY hh:mm:ss" />
                    </div>
                    <div class="form-group">
                        <label for="countdown-done">Countdown Done:</label>
                        <input id="countdown-done" name="countdown-done" ng-model="data.countdown_done" type="text" class="form-control" />
                    </div>
                    <button type="submit" class="btn btn-purple pull-right" ng-click="updateProperties()" ng-disabled="submitting" style="display: none;">Update</button>
                </form>
            </div>
            <h3>API</h3>
            <form class="form-limit-width">
                <div class="form-group">
                    <label for="api_key">Your API Key:</label>
                    <input class="form-control" type="text" value="{{ user.get_api_key() }}" id="api_key" readonly="readonly" onClick="this.setSelectionRange(0, this.value.length)" />
                </div>
            </form>
        </div>
        <div class="col-md-5 col-md-offset-1 purple-box-hack" id="left-box">
            <h3>Chat</h3>
            <div class="form-limit-width">
                <form id="chat-form" novalidate>
                    <div class="form-group">
                        <label for="chat-url">Chat URL:</label>
                        <input id="chat-url" name="chat-url" ng-model="data.chat_url" type="text" class="form-control" />
                    </div>
                </form>
            </div>
        </div>
        <div class="col-md-5 purple-box-hack fill" id="right-box">
            <h3>Rariboard</h3>
            <div class="form-limit-width">
                <form id="rariboard-form" novalidate>
                    <div class="form-group">
                        <label for="raribox-image-url">Rariboard Image URL:</label>
                        <input id="raribox-image-url" name="raribox-image-url" ng-model="data.raribox_image_url" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="raribox-text">Rariboard Text:</label>
                        <textarea id="raribox-text" name="raribox-text" ng-model="data.raribox_text" class="form-control"></textarea>
                    </div>
                    <button type="submit" class="btn btn-purple pull-right" ng-click="updateProperties()" ng-disabled="submitting">Update</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
